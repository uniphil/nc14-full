%% extends "base.html"

%% block main
    %% set delegate_types = [_("Professional Coach"), _("Solar Energy Expert"), _("Managment Consultant"), _("Student"), _("Social Innovator"), _("International Development Professional"), _("Professional Facilitator"), _("Social Justice Leader"), _("Member of Parliament"), _("Social Entrepeneur"), _("Venture Capital"), _("SRI fund"), _("CEO "), _("University Dean"), _("University Professor"), _("Web Developer"), _("Venture founder"), _("NGO founder"), _("Fair Trade Advocate"), _("CEO "), _("Factory Owner"), _("Small-holder Farmer"), _("Hub founder"), _("Start-up incubator"), _("Systems hacker"), _("Poet"), _("Writer"), _("Author"), _("Fair Trade rep"), _("Chapter president"), _("Junior Fellow"), _("Unexpected Ally"), _("Social Innovator"), _("Engineer"), _("Engineering CEO "), _("Agriculture Specialist"), _("Entrepeneur"), _("Investor"), _("CIDA Staff"), _("African Program Staff"), _("Ghanaian Factory Owner"), _("Ghanaian Extension agent"), _("Kenyan small buisness owner"), _("SRI manger"), _("Social Enterprise manager"), _("Accelerator professional"), _("Project Managment Professional"), _("Artist")]

    <div class="overlay">
      <div class="maininner">
        <p>{{ _('<span class="a-an">a</span> <strong class="d after-a">%(d1)s</strong>, <strong class="d">%(d2)s</strong>, and <strong class="d">%(d3)s</strong><br />walk into a rethought conference space.', d1=choice(delegate_types), d2=choice(delegate_types), d3=choice(delegate_types)) }}</p>
        <p>{{ _('what happens next  is up to <strong>you</strong>') }}</p>
      </div>
    </div>

    <div class="leader-para">
      <p>{{ _("Poverty and inequality are not new, but more than ever, we see the levels of complexity and interconnections of these global challenges. With new abilities to understand how problems connect, we are called to share and collaborate in our work, to create solutions larger than single organizations.") }}</p>
      <p>{{ _('Engineers Without Borders (EWB) Canada works to <b class="l">develop leaders</b>, <b class="e">invest in entrepreneurs</b>, and <b class="p">partner with individuals and organizations</b> to tackle these global challenges. Using our work and experience in these three approaches as the foundation of this conference, <strong>we are hosting the opportunity to learn and connect <em>together</em></strong>, with the goal of improving our collective efforts for global development.') }}</p>
    </div>
    <script>window.delegate_types = ['{{ delegate_types|join("', '"|safe) }}'];</script>
{#
    <div class="pullquote">
      <div class="bigquotes"></div>
      <blockquote>
        <p>I had a really fun time at the conference!</p>
        <footer>Phil's Mom</footer>
      </blockquote>
    </div>
#}

    <div class="conference-points">
      <ul>
        <li>
          <img src="{{ url_for('static', filename='img/icon-gear.png') }}" alt="{{ _('Gear') }}" />
          <h3 class="l"><a href="{{ url_for('about') }}#learn">{{ _('Learn') }}</a></h3>
          <p>{{ _("Dive in to emerging theories & new strategies as both a delegate and a presenter. Participate in relevant, participant-driven explorations.") }}</p>
        </li>
        <li>
          <img src="{{ url_for('static', filename='img/icon-bulb.png') }}" alt="{{ _('Lightbulb') }}" />
          <h3 class="e"><a href="{{ url_for('about') }}#innovate">{{ _('Innovate') }}</a></h3>
          <p>{{ _("Bring your ideas, or build on context and conversations to pitch a new one. Promote them, receive feedback, or find resources.") }}</p>
        </li>
        <li>
          <img src="{{ url_for('static', filename='img/icon-shake.png') }}" alt="{{ _('Handshake') }}" />
          <h3 class="p"><a href="{{ url_for('about') }}#connect">{{ _('Connect') }}</a></h3>
          <p>{{ _("Meet experts and up-and-comers, find clients and investors, foster new partnerships or explore existing coalition efforts.") }}</p>
        </li>
      </ul>
    </div>

{#  <div class="speakers">
      <br/>
      <h2>Key Sessions</h2>
      <br/>
      <ul>
        %% for session in sessions
          <li>
            <h3>{{ session.name }} <small>by {{ session.speakers }}</small></h3>
            <p>{{ session.description|safe }}</p>
            <br/>
          </li>
        %% else
          <li>
            <h3>Sched sched sched what where is sched</h3>
          </li>
        %% endfor
      </ul>
      <br/><br/>
    </div>

    <div class="labs">
      <p>{{ _("A term from the Social Innovation space, Design or Change Labs provide an exploratory, experimental, and creative space designed to encourage the co-creation of meaningful and innovative solutions to complex problems.") }}</p>
      <p>{{ _("Developing leaders, investing in entrepreneurs, and forging partnerships are three fundamental approaches to tackling these problems, and EWB has been working with them for twelve years. This experience positions us to host spaces to dive in, explore, and explode our understanding of each approach -- and their points of intersection -- which we believe is best achieved through this style of session.") }}</p>
      <div class="leader">
        <h3>{{ _("Leadership Labs") }}</h3>
        <p>{{ _("How do you develop yourself and others with the understanding and skills needed to tackle complex global problems?") }}</p>
      </div>
      <div class="partner">
        <h3>{{ _("Entrepreneurship Labs") }}</h3>
        <p>{{ _("What spaces, resources, and understandings are required for entrepreneurs to thrive as agents of global change?") }}</p>
      </div>
      <div class="entrepreneur">
        <h3>{{ _("Partnership Labs") }}</h3>
        <p>{{ _("What do we need to know about partnerships to truly harness the value of coalition and collaboration for global development?") }}</p>
      </div>

    </div>
#}

    <div class="signup fulljust">
      <a href="{{ url_for('register') }}" class="button">{{ _("Join Us") }}</a>
      <a href="{{ url_for('about') }}" class="button">{{ _("Find out More") }}</a>
    </div>

    <div class="sponsors">
      <h1>{{ _('<b class="rethink">RETHINK 2014</b> is made possible by the generosity of:') }}</h1>
      <ul class="lead">
        <li class='hatch ir'>{{ _('Hatch Ltd') }}</li>
      </ul>
      <ul class="gold">
        <li class='transcanada ir'>{{ _('TransCanada Corporation') }}</li>
      </ul>
      <ul class="bronze"><!-- fulljust">
        <li class="sherritt ir">{{ _('Sherritt International') }}</li>
        <li class="sherritt ir">{{ _('Sherritt International') }}</li> -->
        <li class="sherritt ir">{{ _('Sherritt International') }}</li>
      </ul>
      <p>{{ _('Engineers Without Borders is looking for more partners.') }} <a href="{{ url_for('sponsors') }}">{{ _('Interested?') }}</a></p>
    </div>

%% endblock

%% block tail_scripts
<script>
//////////////////////
// Delegate Rotator //
//////////////////////
(function() {
  var range = function(min, max) {
    return Math.random() * (max - min) + min;
  };
  var choice = function(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  };

  (function(els, words) {
    var word_time = function() { return range(1800, 2400); };
    var fade_time = 500;

    var test_excluded = function(exclusions, word) {
      if (word === undefined) {
        return false;
      }
      for(var i=0; i<exclusions.length; i++) {
        if (exclusions[i] === word) {
          return false;
        }
      }
      return true;
    };

    var fade_out = function(el) {
      el.css({opacity: 0});
      var exclusions = els.map(function() { return $(this).text(); });
      for (var next; !test_excluded(exclusions, next); next=choice(words));
      setTimeout(swap, fade_time, el, next);
    };

    var swap = function(el, word) {
      el.text(word).css({opacity: 1});
      if (el.hasClass('after-a')) {
        if (/^([aAeEiIoO]|NGO)/.test(el.text())) {
          el.prev().addClass('an');
        } else {
          el.prev().removeClass('an');
        }
      }
      setTimeout(fade_out, fade_time + word_time(), $(choice(els)));
    };

    fade_out($(choice(els)));
  })($(".maininner .d"), window.delegate_types);

})();
</script>
%% endblock